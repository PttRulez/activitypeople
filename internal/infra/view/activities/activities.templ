package activities

import "github.com/pttrulez/activitypeople/internal/infra/view/layout"
import "github.com/pttrulez/activitypeople/internal/domain"
import "fmt"

templ Index(activities []domain.ActivityInfo) {
	@layout.App(true) {
		<div class="py-12">
			<h1 class="text-2xl">Activities</h1>
			<div class="grid grid-rows-4 grid-flow-col gap-4">
				for _, activity := range activities {
					@ActivityCard(activity)
				}
			</div>
		</div>
	}
}

templ ActivityCard(activity domain.ActivityInfo) {
	<a class="card w-96 bg-base-100 shadow-xl border border-gray-700 cursor-pointer">
	  <div class="card-body">
	    <h2 class="card-title">
				{activity.Name}
				<div class="badge badge-outline badge-primary">@SportTypeIcon(activity.SportType)</div>
			</h2>
	    @ShortActivityInfo(activity)
	  </div>
	</a>
}

templ ShortActivityInfo(activity domain.ActivityInfo) {
	switch activity.SportType {
		case domain.SportTypeWeightTraining:
			<br />
		default:
			<p>{fmt.Sprintf("%.2f", activity.Distance / 1000)} km</p>
	}
}

templ SportTypeIcon(sportType domain.SportType) {
	switch sportType {
		case domain.SportTypeRun:
			<i class="fa-solid fa-person-running"></i>
		case domain.SportTypeMountainBikeRide:
		case domain.SportTypeGravelRide:
		case domain.SportTypeRide:
			<i class="fa-solid fa-bicycle"></i>
		case domain.SportTypeNordicSki:
			<i class="fa-solid fa-person-skiing-nordic"></i>
		default:
			<i class="fa-solid fa-dog"></i>
	}
}
